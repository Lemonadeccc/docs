## 文件树

### 文件树创建及渲染

项目使用文件树渲染文件到指定目录。
文件树类 FileTree 包括:
- rootDirectory 根路径
- fileData 文件数据对象
  - path 文件路径
  - type 文件类型(目录or文件)
  - children 文件子数组(根目录到指定目录间的路径名称的数组)
  - describe 文件描述
    - fileName 文件名
    - fileExtension 文件扩展名
    - fileContent 文件内容
通过以上信息可方便使用文件树插入到指定位置。

在创建文件树对象时，传入使用 `EJS` 渲染插件的 `template` 文件生成一个实例，并在实例上调用渲染模版 `renderTemplates()` 的方法将文件树渲染到指定目录下形成文件。此方法在确保有目标目录后，将目标目录路径上的所有子路径遍历。

- 当前子路径的渲染文件类型为目录且有需要渲染的文件时，则递归调用本方法，确保渲染至目标文件的上一层目录。
- 当文件类型为文件时，则调用文件渲染方法 `fileRender()` ，并通过将目的路径的文件填入相应的遍历子文件的内容。

若插件在构建工具配置文件中具有插入特殊配置的需求，则需要调用该函数借助 `ast` 进行插入。执行 `plugin` 的入口文件，把 `config` 合并到构建工具原始配置中。执行过程中会将配置项根据不同构建工具类型进行 `ast` 解析，并插入到构建工具配置文件中。后与 [Generator过程-建工具配置文件生成](generator-processing.md) 部分接续阅读。

